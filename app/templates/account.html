{% extends "defaultFormat.html" %}
{%block content%}
<div id = "accountHeader" class="board col-8 col-m-6" >
    <div id = "profileHeader" class = "header col-12"> User Profile: <div class = "fas fa-id-card"></div></div>
    <div id = "userDetails">
        <img id = "profilePic" src = "">
        <h1 id = "name">{{user.username}} #{{user.user_ID}}</h1>
        <p id = "userContent">
            <span class ="detailHeader">Email:</span> {{user.email}} <br> 
            <span class ="detailHeader">Posts:</span> {{user.count_posts()}}<br>
            <span class ="detailHeader">Average Percent from 50-50:</span> {{user.average_dif()}}%<br>
            <span class ="detailHeader">Ranking:</span> {{user.rank()}}<br>
            <span class ="detailHeader">Joined:</span> {{user.date}}
        </p>
    </div>
    <hr class = "col-11">
</div>



<div id="accountPosts" class="board col-8 col-m-6" style="display: flex; flex-direction: column;">
    <div id="postHeader" class="header col-12">Posts: <div class="fas fa-folder"></div></div>
    <div id="userPosts" style="flex-grow: 1;">
        {% for post in user.posts() %}
            <div class="userPost">
                <div>
                    <p><span class="post-subheading">{{ post.prompt }}:</span> {{ post.Option1 }} ({{ post.left_percentage() }}%) vs {{ post.Option2 }} ({{ post.right_percentage() }}%)</p>
                </div>

                <div class="small-bar">
                    {%if post.left_percentage() == 100%}
                    <div style="width: 100%; background-color:red;"></div>
                    {%elif post.left_percentage() == 0%}
                    <div style="width: 100%; background-color:blue;"></div>
                    {%else%}
                    <div style="width: {{ post.left_percentage() }}%; background-color:red;"></div>
                    <div style="width: {{ post.right_percentage()}}%; background-color:blue;"></div>
                    {%endif%}
                </div>
                <br>

                <div><span class="post-subheading">Posted on:</span> {{ post.date }} </div>

                <div>{% if post.tag1 != "N/A" %}
                    <p><span class="post-subheading">Tags:</span> {{ post.tag1 }} {% endif %} {% if post.tag2 != "N/A" %} , {{ post.tag2 }} {% endif %} {% if post.tag3 != "N/A" %} , {{ post.tag3 }} {% endif %}</p>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}