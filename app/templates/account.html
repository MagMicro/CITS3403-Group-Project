{% extends "defaultFormat.html" %}
{%block content%}
<div id = "accountHeader" class="board col-8 col-m-6" >
    <div class ="fas fa-xmark" id = "accountDelete"></div>
    <div id = "profileHeader" class = "header col-12"> User Profile: <div class = "fas fa-id-card"></div></div>
    <div id = "userDetails">
        <img id = "profilePic" src = "">
        <h1 id = "name">{{user.username}} #{{user.user_ID}}</h1>
        <p id = "userContent">
            <span class ="detailHeader">Email:</span> {{user.email}} <br> 
            <span class ="detailHeader">Posts:</span> {{user.count_posts()}}<br>
            <span class ="detailHeader">Average Percent from 50-50:</span> {{user.average_dif()}}%<br>
            <span class ="detailHeader">Ranking:</span> {{user.rank()}}<br>
            <span class ="detailHeader">Joined:</span> {{user.date}}
        </p>
    </div>
    <hr class = "col-11">
</div>



<div id="accountPosts" class="board col-8 col-m-6">
    <div id="postHeader" class="header col-12">Posts: 
        <div class="fas fa-folder"></div>
    </div>
    <div id="filterBox"><div class = "fas fa-filter"></div> Filter By:
        <select id="sortOption">
            <option value="Popularity">Popularity</option>
            <option value="Difference">Difference</option>
            <option value="UploadDate">Upload Date</option>
        </select>
        <select id="sortOrder">
            <option value="Ascending">Ascending</option>
            <option value="Descending">Descending</option>
        </select>
    </div>
    <div id="userPosts" style="flex-grow: 1;"></div>
</div>
<script src="{{ url_for('static', filename='js/profilePageFunctionality.js') }}"></script>

<div id = "postConfirmMsg">
    <div class = "board col-4">
        <h3>Confirmation:</h3>
        <div class="fas fa-xmark" id="postNotificationClose"></div>
        <hr></hr>
        <h5>Are you sure you want to delete this post?</h5>
        <p>Note: This post will be permanently deleted</p>
        <button id="confirm" class="btn btn-danger col-6">Confirm</button>
    </div>
</div>

<div id = "accountConfirmMsg">
    <div class = "board col-4">
        <form method="post" action="/DeleteAccount">
            {{form.hidden_tag()}}
            <h3>Confirmation:</h3>
            <div class="fas fa-xmark" id="accountNotificationClose"></div>
            <hr></hr>
            <h5>Are you sure you want to delete your account?</h5>
            <div id = "accountWarning">
                <p><b>Note:</b> Your account will be permanently deleted.</p>
                <b><i>*This cannot be undone!*</i></b>
                {{form.password(class = "inputBox col-sm-10", placeholder = "Password")}}
            </div>
            {{form.submit(class="btn btn-danger col-6", placeholder = "Confirm")}}
        </form>
    </div>
</div>
{% endblock %}